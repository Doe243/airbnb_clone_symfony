{% extends 'admin/base.html.twig' %}

{% block title %}Administration des annonces{% endblock %}

{% block body %}

    <div class="container-fluid">
    
        <h1 class="my-5">Gestion des annonces</h1>

        <table class="table table-striped">
        
            <thead>

                <tr>

                    <th>Id</th>
                    <th>Titre</th>
                    <th>Auteur</th>
                    <th class="text-center">RÃ©servation</th>
                    <th class="text-center">Note</th>
                    <th>Action</th>

                </tr>
            
            </thead>

            <tbody>

                {% for ad in ads %}
                    
                <tr>
                    <td>{{ ad.id}}</td>

                    <td>{{ ad.title}}</td>

                    <td> 
                        <img src="{{ ad.author.picture }}" style=" max-width: 30px; max-height: 30px;" class=" avatar avatar-micro mr-2" alt="Avatar de {{ ad.author.fullName}}"> 
                        {{ ad.author.fullName}}
                    </td>

                    <td class="text-center">

                        <span class="badge bg-info">

                        {{ ad.bookings | length }}</span>

                    </td>

                    <td class="text-center">

                        <span class="badge bg-info">

                            {{ ad.avgRatings | number_format(1, ',', '')}}

                        </span>

                    </td>

                    <td>

                        <a href="{{ path('admin_ads_edit', {'id': ad.id}) }}" class="btn btn-primary"> 
                            <i class="fas fa-edit"></i>
                        </a>

                        <a href="{{ path('admin_ads_delete', {'id': ad.id}) }}" class="btn btn-danger"> 
                            <i class="fas fa-trash"></i>
                        </a>

                    </td>

                </tr>

                {% endfor %}

            </tbody>
        
        </table>
    
    </div>

{% endblock %}
